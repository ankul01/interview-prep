<aside class="sidebar" id="sidebar">
    <button class="sidebar-close" id="sidebar-close" aria-label="Close sidebar">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;display:block">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    </button>
    <nav class="sidebar-nav" aria-label="Section navigation">
        <ul class="sidebar-tree">
            {{- range site.Sections }}
            {{- $isActive := or (eq $.Page.Section .Section) ($.Page.IsDescendant .) }}
            <li class="sidebar-section{{ if $isActive }} is-active{{ end }}">
                <details{{ if $isActive }} open{{ end }}>
                    <summary>
                        <a href="{{ .RelPermalink }}" class="sidebar-link{{ if eq $.Page.RelPermalink .RelPermalink }} current{{ end }}">{{ .Title }}</a>
                    </summary>
                    {{- $subSections := .Sections }}
                    {{- $pages := .RegularPages }}
                    {{- if or $subSections $pages }}
                    <ul>
                        {{- range $subSections }}
                        {{- $subActive := or (eq $.Page.RelPermalink .RelPermalink) ($.Page.IsDescendant .) }}
                        <li class="sidebar-subsection{{ if $subActive }} is-active{{ end }}">
                            {{- $subSubSections := .Sections }}
                            {{- $subPages := .RegularPages }}
                            {{- if or $subSubSections $subPages }}
                            <details{{ if $subActive }} open{{ end }}>
                                <summary>
                                    <a href="{{ .RelPermalink }}" class="sidebar-link{{ if eq $.Page.RelPermalink .RelPermalink }} current{{ end }}">{{ .Title }}</a>
                                </summary>
                                <ul>
                                    {{- range $subSubSections }}
                                    <li>
                                        <a href="{{ .RelPermalink }}" class="sidebar-link{{ if eq $.Page.RelPermalink .RelPermalink }} current{{ end }}">{{ .Title }}</a>
                                    </li>
                                    {{- end }}
                                    {{- range $subPages }}
                                    <li>
                                        <a href="{{ .RelPermalink }}" class="sidebar-link{{ if eq $.Page.RelPermalink .RelPermalink }} current{{ end }}">{{ .Title }}</a>
                                    </li>
                                    {{- end }}
                                </ul>
                            </details>
                            {{- else }}
                            <a href="{{ .RelPermalink }}" class="sidebar-link{{ if eq $.Page.RelPermalink .RelPermalink }} current{{ end }}">{{ .Title }}</a>
                            {{- end }}
                        </li>
                        {{- end }}
                        {{- range $pages }}
                        <li>
                            <a href="{{ .RelPermalink }}" class="sidebar-link{{ if eq $.Page.RelPermalink .RelPermalink }} current{{ end }}">{{ .Title }}</a>
                        </li>
                        {{- end }}
                    </ul>
                    {{- end }}
                </details>
            </li>
            {{- end }}
        </ul>
    </nav>
</aside>
<button class="sidebar-toggle" id="sidebar-toggle" aria-label="Open navigation">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:20px;height:20px;display:block">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
</button>
